<app-menu></app-menu>
<div class="row page-header">
  <div class="col-lg-12">
    <ol class="breadcrumb custom-breadcrumb">
      <li class="active">Order History</li>
    </ol>
  </div>
</div>

<div class="container page-content">
  <div class="row">
    <div class="col-lg-12 col-md-12">
      <div class="panel-body ">
        <mat-form-field>
          <mat-label><i class="fa fa-search"></i> Search</mat-label>

          <input matInput (keyup)="applyFilter($event)" placeholder="Type here ...">
        </mat-form-field>

        <table mat-table [dataSource]="dataSource" matSort matSortActive="submissionDateTime" matSortDirection="desc"
          class="mat-elevation-z8">

          <ng-container matColumnDef="orderId">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Order ID </th>
            <td mat-cell *matCellDef="let element"> {{element.orderId}} </td>
          </ng-container>

          <ng-container matColumnDef="submissionDateTime">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Submission Date and Time </th>
            <td mat-cell *matCellDef="let element"> {{element.submissionDateTime | date:"medium"}} </td>
          </ng-container>

          <ng-container matColumnDef="orderStatus">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Order Status </th>
            <td mat-cell *matCellDef="let element"> {{ element.orderStatus }} </td>
          </ng-container>

          <ng-container matColumnDef="totalOrderAmount">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Total Order Amount </th>
            <td mat-cell *matCellDef="let element"> {{element.totalOrderAmount}}
            </td>
          </ng-container>

          <ng-container matColumnDef="invoice">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Invoice </th>
            <td mat-cell *matCellDef="let element">
              <!-- <div class="btn-group fit-parent" role="group" aria-label="Basic example">
                <div class="btn btn-secondary download-pdf-icon"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                    width="30" height="30" viewBox="0 0 172 172" style=" fill:#000000;">
                    <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
                      stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0"
                      font-family="none" font-weight="none" font-size="none" text-anchor="none"
                      style="mix-blend-mode: normal">
                      <path d="M0,172v-172h172v172z" fill="none"></path>
                      <g fill="#ff5722">
                        <path
                          d="M32.25,19.35v133.3h77.4h7.18906l-4.3,-4.3h-2.88906h-73.1v-124.7h68.8v30.1h30.1v43h4.3v-46.04023l-31.35977,-31.35977zM109.65,26.69023l22.75977,22.75977h-22.75977zM47.3,27.95c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,36.55c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,45.15c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,53.75c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,62.35c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM87.17998,62.35c-2.17899,0 -4.17522,1.219 -5.20703,2.95205c-1.0318,1.73305 -1.36183,3.81959 -1.34795,6.13506c0.02776,4.63093 1.53498,10.34861 4.13623,16.09981c0.0725,0.16028 0.19034,0.31007 0.26455,0.47031c-0.42106,1.243 -0.70961,2.42081 -1.18838,3.67432c-1.48466,3.88712 -3.2594,7.66925 -5.13145,11.22871c-3.10472,1.09049 -6.07277,2.30114 -8.63779,3.67432c-2.75427,1.47449 -5.11264,3.09735 -6.87832,4.95928c-1.76568,1.86193 -2.98984,4.07171 -2.98984,6.53399c0,2.51393 2.26157,4.47217 4.99707,4.47217c2.42998,0 4.64449,-1.18824 6.70195,-2.90166c2.05746,-1.71342 4.01797,-4.02672 5.9167,-6.75234c1.32141,-1.89689 2.54291,-4.18393 3.7751,-6.41221c2.94908,-0.97106 6.03905,-1.8561 9.1627,-2.53213c1.62191,-0.35102 3.15932,-0.49405 4.75771,-0.75166c0.07568,0.07297 0.12959,0.17129 0.20576,0.24355c4.64455,4.40611 10.31828,7.5124 16.6667,7.5124c1.85835,0 3.66711,-0.2233 5.26162,-1.16318c1.59452,-0.93988 2.75469,-2.86567 2.75469,-4.98867c0,-2.31391 -1.6115,-4.24335 -3.56934,-5.24902c-1.95784,-1.00567 -4.36782,-1.47621 -7.15547,-1.68389c-3.61915,-0.26963 -7.95671,0.09484 -12.45908,0.70547c-2.97459,-3.20629 -5.52899,-6.99976 -7.5292,-11.00615c1.63663,-5.11376 2.93087,-10.0764 3.26699,-14.15977c0.23005,-2.79478 0.13975,-5.2152 -0.63828,-7.26885c-0.77803,-2.05365 -2.78702,-3.79189 -5.13564,-3.79189zM87.17998,66.65c0.71297,0 0.73266,0.0086 1.11279,1.01201c0.38014,1.00338 0.57506,2.95015 0.37373,5.396c-0.19582,2.37887 -0.74867,5.25624 -1.54111,8.34385c-1.28497,-3.75008 -2.18453,-7.34704 -2.20039,-9.99414c-0.01102,-1.83813 0.33253,-3.21539 0.74326,-3.90528c0.41074,-0.68988 0.62911,-0.85244 1.51172,-0.85244zM47.3,70.95c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,79.55c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,88.15c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM87.88125,93.13867c1.30949,2.21173 2.78688,4.23312 4.41338,6.22324c-0.82914,0.15787 -1.61589,0.2104 -2.44814,0.39053c-1.8843,0.40781 -3.69009,1.00919 -5.54297,1.52432c1.25459,-2.64344 2.50522,-5.31623 3.55254,-8.0583c0.01032,-0.02705 0.01483,-0.05274 0.0252,-0.07979zM47.3,96.75c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM105.68174,102.0998c1.31777,-0.0365 2.55649,-0.02029 3.67432,0.06299c2.45298,0.18275 4.41018,0.65315 5.50938,1.21777c1.0992,0.56462 1.23457,0.83494 1.23457,1.42354c0,0.90635 -0.12365,0.98161 -0.63828,1.28496c-0.51464,0.30335 -1.64257,0.56689 -3.07803,0.56689c-3.86193,0 -7.45793,-1.79808 -10.84658,-4.3084c1.43003,-0.12204 2.82686,-0.21125 4.14463,-0.24776zM137.6,103.2c-1.1868,0 -2.15,0.96105 -2.15,2.15v38.7h-12.9c-0.8686,0 -1.65298,0.52285 -1.98623,1.32695c-0.33325,0.80195 -0.15094,1.72826 0.46611,2.34316l23.65,23.65c0.84065,0.84065 2.19958,0.84065 3.04023,0l23.65,-23.65c0.41065,-0.41065 0.62988,-0.96112 0.62988,-1.52012c0,-0.27735 -0.05412,-0.55645 -0.16377,-0.82305c-0.33325,-0.8041 -1.11763,-1.32695 -1.98623,-1.32695h-12.9v-38.7c0,-1.18895 -0.9632,-2.15 -2.15,-2.15zM47.3,105.35c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM139.75,107.5h12.9v40.85h12.00977l-18.45977,18.45977l-18.45977,-18.45977h12.00977zM75.05684,109.1251c-0.26278,0.39902 -0.50449,0.93123 -0.76846,1.31016c-1.752,2.515 -3.53064,4.56889 -5.14404,5.9125c-1.6134,1.34361 -3.00013,1.90225 -3.94726,1.90225c-0.55154,0 -0.66561,-0.21024 -0.68867,-0.24355c0.02284,-1.01138 0.54302,-2.17488 1.80566,-3.50635c1.29135,-1.36174 3.30016,-2.79257 5.78652,-4.12363c0.85176,-0.45598 2.00393,-0.81982 2.95625,-1.25137zM47.3,113.95c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,122.55c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,131.15c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,139.75c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15z">
                        </path>
                      </g>
                    </g>
                  </svg></div>
                <div class="btn btn-secondary pro-forma-pdf" *ngIf="element.invoice.idProForma" type="button"
                  (click)="downloadInvoice(element.invoice.id, element.invoice.idProForma, 'pro format invoice')">Pro
                  Forma Invoice</div>
                <div class="btn btn-secondary invoice-pdf" *ngIf="element.invoice.idCommande" type="button"
                  (click)="downloadInvoice(element.invoice.id, element.invoice.idCommande, 'invoice')">Invoice</div>
              </div> -->
              <div class="main">
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0 0 172 172"
                  style=" fill:#000000;">
                  <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
                    stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0"
                    font-family="none" font-weight="none" font-size="none" text-anchor="none"
                    style="mix-blend-mode: normal">
                    <path d="M0,172v-172h172v172z" fill="none"></path>
                    <g fill="#ff5722">
                      <path
                        d="M32.25,19.35v133.3h77.4h7.18906l-4.3,-4.3h-2.88906h-73.1v-124.7h68.8v30.1h30.1v43h4.3v-46.04023l-31.35977,-31.35977zM109.65,26.69023l22.75977,22.75977h-22.75977zM47.3,27.95c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,36.55c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,45.15c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,53.75c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,62.35c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM87.17998,62.35c-2.17899,0 -4.17522,1.219 -5.20703,2.95205c-1.0318,1.73305 -1.36183,3.81959 -1.34795,6.13506c0.02776,4.63093 1.53498,10.34861 4.13623,16.09981c0.0725,0.16028 0.19034,0.31007 0.26455,0.47031c-0.42106,1.243 -0.70961,2.42081 -1.18838,3.67432c-1.48466,3.88712 -3.2594,7.66925 -5.13145,11.22871c-3.10472,1.09049 -6.07277,2.30114 -8.63779,3.67432c-2.75427,1.47449 -5.11264,3.09735 -6.87832,4.95928c-1.76568,1.86193 -2.98984,4.07171 -2.98984,6.53399c0,2.51393 2.26157,4.47217 4.99707,4.47217c2.42998,0 4.64449,-1.18824 6.70195,-2.90166c2.05746,-1.71342 4.01797,-4.02672 5.9167,-6.75234c1.32141,-1.89689 2.54291,-4.18393 3.7751,-6.41221c2.94908,-0.97106 6.03905,-1.8561 9.1627,-2.53213c1.62191,-0.35102 3.15932,-0.49405 4.75771,-0.75166c0.07568,0.07297 0.12959,0.17129 0.20576,0.24355c4.64455,4.40611 10.31828,7.5124 16.6667,7.5124c1.85835,0 3.66711,-0.2233 5.26162,-1.16318c1.59452,-0.93988 2.75469,-2.86567 2.75469,-4.98867c0,-2.31391 -1.6115,-4.24335 -3.56934,-5.24902c-1.95784,-1.00567 -4.36782,-1.47621 -7.15547,-1.68389c-3.61915,-0.26963 -7.95671,0.09484 -12.45908,0.70547c-2.97459,-3.20629 -5.52899,-6.99976 -7.5292,-11.00615c1.63663,-5.11376 2.93087,-10.0764 3.26699,-14.15977c0.23005,-2.79478 0.13975,-5.2152 -0.63828,-7.26885c-0.77803,-2.05365 -2.78702,-3.79189 -5.13564,-3.79189zM87.17998,66.65c0.71297,0 0.73266,0.0086 1.11279,1.01201c0.38014,1.00338 0.57506,2.95015 0.37373,5.396c-0.19582,2.37887 -0.74867,5.25624 -1.54111,8.34385c-1.28497,-3.75008 -2.18453,-7.34704 -2.20039,-9.99414c-0.01102,-1.83813 0.33253,-3.21539 0.74326,-3.90528c0.41074,-0.68988 0.62911,-0.85244 1.51172,-0.85244zM47.3,70.95c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,79.55c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,88.15c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM87.88125,93.13867c1.30949,2.21173 2.78688,4.23312 4.41338,6.22324c-0.82914,0.15787 -1.61589,0.2104 -2.44814,0.39053c-1.8843,0.40781 -3.69009,1.00919 -5.54297,1.52432c1.25459,-2.64344 2.50522,-5.31623 3.55254,-8.0583c0.01032,-0.02705 0.01483,-0.05274 0.0252,-0.07979zM47.3,96.75c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM105.68174,102.0998c1.31777,-0.0365 2.55649,-0.02029 3.67432,0.06299c2.45298,0.18275 4.41018,0.65315 5.50938,1.21777c1.0992,0.56462 1.23457,0.83494 1.23457,1.42354c0,0.90635 -0.12365,0.98161 -0.63828,1.28496c-0.51464,0.30335 -1.64257,0.56689 -3.07803,0.56689c-3.86193,0 -7.45793,-1.79808 -10.84658,-4.3084c1.43003,-0.12204 2.82686,-0.21125 4.14463,-0.24776zM137.6,103.2c-1.1868,0 -2.15,0.96105 -2.15,2.15v38.7h-12.9c-0.8686,0 -1.65298,0.52285 -1.98623,1.32695c-0.33325,0.80195 -0.15094,1.72826 0.46611,2.34316l23.65,23.65c0.84065,0.84065 2.19958,0.84065 3.04023,0l23.65,-23.65c0.41065,-0.41065 0.62988,-0.96112 0.62988,-1.52012c0,-0.27735 -0.05412,-0.55645 -0.16377,-0.82305c-0.33325,-0.8041 -1.11763,-1.32695 -1.98623,-1.32695h-12.9v-38.7c0,-1.18895 -0.9632,-2.15 -2.15,-2.15zM47.3,105.35c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM139.75,107.5h12.9v40.85h12.00977l-18.45977,18.45977l-18.45977,-18.45977h12.00977zM75.05684,109.1251c-0.26278,0.39902 -0.50449,0.93123 -0.76846,1.31016c-1.752,2.515 -3.53064,4.56889 -5.14404,5.9125c-1.6134,1.34361 -3.00013,1.90225 -3.94726,1.90225c-0.55154,0 -0.66561,-0.21024 -0.68867,-0.24355c0.02284,-1.01138 0.54302,-2.17488 1.80566,-3.50635c1.29135,-1.36174 3.30016,-2.79257 5.78652,-4.12363c0.85176,-0.45598 2.00393,-0.81982 2.95625,-1.25137zM47.3,113.95c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,122.55c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,131.15c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15zM47.3,139.75c-1.18741,0 -2.15,0.96259 -2.15,2.15c0,1.18741 0.96259,2.15 2.15,2.15c1.18741,0 2.15,-0.96259 2.15,-2.15c0,-1.18741 -0.96259,-2.15 -2.15,-2.15z">
                      </path>
                    </g>
                  </g>
                </svg>
                <input class='downloadIcon' type='checkbox' name='thing' value='valuable' id="thing" /><label
                  for="thing"></label>
                <div class="menu">
                  <li><a *ngIf="element.invoice.idProForma" type="button"
                      (click)="downloadInvoice(element.invoice.id, element.invoice.idProForma, 'pro format invoice')">ProForma</a>
                  </li>
                  <li><a *ngIf="element.invoice.idCommande" type="button"
                      (click)="downloadInvoice(element.invoice.id, element.invoice.idCommande, 'invoice')">Invoice</a>
                  </li>
                </div>
              </div>
            </td>
          </ng-container>

          <ng-container matColumnDef="details">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Details </th>
            <td mat-cell *matCellDef="let element">
              <div class="button" [routerLink]="element.details">
                <div class="icon"><i class="fa fa-eye" aria-hidden="true"></i></div>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="clientOrderTableColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: clientOrderTableColumns;"></tr>
        </table>

        <mat-paginator [pageSizeOptions]="pageSizeOptions" showFirstLastButtons></mat-paginator>
      </div>
    </div>
  </div>
</div>